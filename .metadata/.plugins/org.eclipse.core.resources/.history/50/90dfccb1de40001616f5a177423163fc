package graphics;

import java.awt.BorderLayout;
import java.awt.GridLayout;
import java.awt.Panel;
import java.util.List;

import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

import adapters.HighScore;
import adapters.Player;

public class TopPlayer extends JOptionPane {
	private static final long serialVersionUID = 1L;
	public HighScore hScore = new HighScore();
	public Panel panel;

	/**
	 * Create the dialog.
	 */
	public TopPlayer() {
		panel = new Panel(new BorderLayout());
		setTopPlayer();
		JButton reset = new JButton("Reset high score");
		panel.add(reset, BorderLayout.SOUTH);
		setToolTipText("Display high score");
		setIcon(icon);
		showMessageDialog(this, panel, "High Score", JOptionPane.PLAIN_MESSAGE);
	}

	public void setTopPlayer() {
		JPanel top = new JPanel(new GridLayout(10, 1), true);
		JLabel row;
		String line;
		List<Player> list = hScore.getListTopPlayer();
		for (int i = 0; i < list.size(); i++) {
			Player player = list.get(i);
			line = (i + 1) + ". " + player.getName() + ": " + player.getScore();
			row = new JLabel(line);
			top.add(row);
		}
		panel.add(top, BorderLayout.CENTER);
	}

}
